<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Thesis</title>
    <link rel="stylesheet" type="text/css" href="build/build.css">
  </head>
  <body>
    <article>
      <section>
        <h5>Thesis Project <br></h5>
        <h2>Analysis, Design and Implementation of a "Movie  Quiz" game in Android<hr/></h2>
        <h3>Thodoris Bais</h3>
        <h3>Supervisor: Minas Dasygenis</h3>
        <h6>27-10-2015 | ICTE UoWM</h6>
        <p></p>
        <h6>Laboratory of Digital Systems and Computer Architecture</h6>
        <p><a href="http://arch.icte.uowm.gr">http://arch.icte.uowm.gr</a></p><img src="images/icte-logo.jpg" style="width: 15%; position: absolute; top: 0; right: 0; border: 0;">
      </section>
      <section>
        <h2>Outline</h2>
        <aside>
          <p>Introduction</p>
          <p>Requirements & Design Engineering</p>
          <p>Admin's Website Functionality</p>
          <p>Quality Assurance</p>
          <p>Conclusions</p>
          <p>Future Extensions</p>
          <p>Demo</p>
        </aside>
      </section>
      <section>
        <h2>System Introduction</h2>
        <h3 class="bullet">We wanted a multiplayer game, where:</h3>
        <ul>
          <li>the database could be easily updated</li>
          <li>the server could run locally</li>
          <li>the game could provide enough configuration options</li>
          <li>questions were taken from IMdB</li>
        </ul><hr/>
        <p class="bullet">...following the standards of a modern multiplayer game</p>
        <h2>So, what is the main concept of your thesis?</h2>
      </section>
      <section>
        <h2>The problem</h2>
        <h3>IMDB Api provides weird-formatted datasets</h3><img src="images/imdb.jpg" style="width: 60%">
      </section>
      <section>
        <h2>The solution</h2><img src="images/api_omdb.jpeg" style="width: 60%">
        <p></p>
        <h3 class="bullet">Features</h3>
        <ul>
          <li>HTTP Requests</li>
          <li>Search by title</li>
          <li>Search by imdb id</li>
          <li>XML / JSON</li>
        </ul>
      </section>
      <section>
        <h2>Scrapper - Implementation</h2>
        <h3 class="bullet">A script that converts a text file containing movie titles to an SQLite database</h3><img src="images/scrapper_exec.png" style="width: 75%" class="bullet"><img src="images/text-to-sql.png" style="width: 60%">
      </section>
      <section>
        <h2 class="bullet">Scrapper - DB schema</h2><img src="images/db.png" style="position: absolute; left: 0px; width: 45%;" class="bullet"><img src="images/db_schema.jpg" style="float: right;  width:30%">
        <p></p>
        <p class="bullet">Only one table?</p>
      </section>
      <section>
        <h2>Development Stages</h2>
        <h3>Requirements Engineering</h3>
        <ul>
          <li>Database Creation</li>
          <li>System Architecture</li>
          <li>Mockups</li>
          <li>FSM Diagrams</li>
          <li>Use Case Diagrams</li>
          <li>Sequence Diagrams</li>
          <li>Protocol Messages</li>
        </ul>
      </section>
      <section>
        <h2>Development Stages  </h2>
        <h3>Design Engineering</h3>
        <ul>
          <li>Android Server Development</li>
          <li>Android Client Development</li>
          <li>Admin Website Development</li>
          <li>Manual Testing</li>
        </ul>
      </section>
      <section>
        <h2>Requirements Engineering  </h2>
        <h3>System Architecture</h3><img src="images/system_architecture.jpg" style="width:75%">
      </section>
      <section>
        <h2>Requirements Engineering  </h2>
        <h3>Mockups - Server</h3><img src="images/server-mocks.jpg" style="width:100%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>Use Case Diagram - Server</h3><img src="images/server-use_case-diag.jpg" style="width:95%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>Sequence Case Diagram - Server</h3><img src="images/server-sequence-diagram.jpg" style="width:95%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>FSM - Server in Singleplayer Mode</h3><img src="images/server-fsm2.jpg" style="width:95%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>FSM - Server in Multiplayer Mode</h3><img src="images/server-fsm1.jpg" style="width:95%">
      </section>
      <section>
        <h2>Requirements Engineering  </h2>
        <h3>Mockups - Client</h3><img src="images/client-mocks.jpg" style="width:100%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>Use Case Diagram - Client</h3><img src="images/client-use_case_diag.jpg" style="width:77%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>Sequence Case Diagram - Client</h3><img src="images/client-sequence-diag.jpg" style="width:95%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>FSM - Client </h3><img src="images/client-fsm.jpg" style="width:95%">
      </section>
      <section>
        <h2>Protocol Messages</h2>
        <h3 class="bullet">A typical flow</h3>
        <p class="bullet">â–º Client inserts a nickname</p>
        <pre class="bullet"><code class="language-javascript">MESSAGE::CONNECTION ACCEPTED

NICKNAME::OK

CONFIG::gameType<>helpPhoneMode<>helpAudienceMode<>
helpHalfMode<>maxAnswerTime<>timeRemaining<>NickName<>
correctScore<>informOtherPlayers<>scoreVisible
</code></pre>
      </section>
      <section>
        <h2>Protocol Messages</h2>
        <h3>Continuing the typical flow</h3>
        <pre class="bullet"><code class="language-javascript">GAME_STARTING

NEW_QUESTION::question<>answer1<>answer2<>
answer3<>answer4<>
answer5<>correct
</code></pre>
        <pre class="bullet"><code class="language-javascript">NICKNAME::ANSWER::QUESTION
</code></pre>
        <pre style="overflow: hidden;" class="bullet"><code class="language-javascript">MESSAGE::END_OF_GAME==[PLAYER1]:[SCORE]<>[PLAYERN]:[SCORE]

</code></pre>
      </section>
      <section>
        <h2>Design Engineering</h2>
        <h3>Server Implementation</h3><img src="images/server-start.jpg" style="width:80%">
      </section>
      <section>
        <h2>So what?</h2>
        <h3>Server is now set to listen to incoming connections, so the ball goes to client...</h3>
      </section>
      <section>
        <h2>Design Engineering</h2>
        <h3>Client Implementation</h3><img src="images/client-start.jpg" style="width:80%">
      </section>
      <section>
        <h2>Time Left? For what?</h2>
        <h3>If no error returned, the client is connected and waits for the server to start the game...</h3>
        <p class="bullet">Hey, Mr. server, start the game, I'm in! </p>
        <!--to be converted into markdown code-->
        <p class="bullet">....but wait, how does the server know if players are actually connected?</p><img src="images/server-new-player.jpg" style="width:40%" class="bullet">
      </section>
      <section>
        <h4 class="bullet">"Ok, perfect", I've got 2 players, let's start!</h4><img src="images/server-gameplay.jpg" style="width:45%" class="bullet">
      </section>
      <section>
        <h4>Question is simultaneously sent to clients</h4><img src="images/client-gameplay.jpg" style="width:45%" class="bullet">
      </section>
      <section>
        <h2>Key Points of Design</h2>
        <h3>Android Development</h3>
        <ul> 
          <li>ServerSocket class to establish connections</li>
          <li>Send messages using the PrintWriter class</li>
          <li>Read messages using the BufferedReader</li>
          <li>Synchronized threads</li>
          <li>Asynchronous Tasks</li>
          <li>Custom UI</li>
        </ul>
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>ServerSocket establishes connections</h2>
        <pre><code class="language-java">@Override
public void run() {
    synchronized(this){
        this.runningThread = Thread.currentThread();
    }
    // create ServerSocket using specified port
    serverSocket = new ServerSocket(PortNumber);
    while (running) {
        new ThreadHandler(serverSocket.accept()).start();
    }
}
</code></pre>
      </section>
      <section>
        <h2>PrintWriter sends</h2>
        <pre><code class="language-java">private BufferedReader in;
in = new BufferedReader(
        new InputStreamReader(
            socket.getInputStream()
        )
);

/* Sending messages */
out.println("MESSAGE::END_OF_GAME=="+scoreMessage);</code></pre>
      </section>
      <section>
        <h2>BufferedReader reads</h2>
        <pre><code class="language-java">private PrintWriter out;
out = new PrintWriter(socket.getOutputStream(), true);

/* Reading messages */
in.readLine();
</code></pre>
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Android part's over...  </h2>
        <h3>Let's go to the web app</h3>
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>Use Case Diagram - Web Application</h3><img src="images/web-uc-diag.jpg" style="width:80%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Requirements Engineering  </h2>
        <h3>Sequence Diagram - Web Application</h3><img src="images/webapp-sequence-diag.jpg" style="width:100%">
      </section>
      <section>
        <h2>Design Engineering  </h2>
        <h3>Implementation - Web Application</h3><img src="images/webapp.gif" style="width:100%">
      </section>
      <section>
        <h2>Security  </h2>
        <h3>has been ensured in the web application, using:</h3><br>
        <ul>
          <li>PDO for prepared statements</li>
          <li>Sanitization functions for input filtering</li>
        </ul>
      </section>
      <section>
        <h2>Prototyping</h2>
        <h3>Mockups - WireframeSketcher</h3><img src="images/wfsketcher.jpg" style="width:100%">
      </section>
      <section>
        <h2>Debugging</h2>
        <h3>The embedded logger is unstoppable, irrelevant and snob</h3><img src="images/AS_default_logs.gif" style="width:100%" class="bullet">
        <!--img(src="images/debugging.jpg", style="width:125%")-->
      </section>
      <section>
        <h1>So?</h1>
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Alternative Debugging</h2>
        <h3>Android Device Monitor</h3><img src="images/debugging.jpg" style="width:100%">
      </section>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h2>Quality Assurance  </h2>
        <h3>Task Management - Trello</h3><img src="images/trello.jpg" style="width:125%">
      </section>
      <section>
        <h2>Quality Assurance  </h2>
        <h3 class="bullet">Build Tool</h3><img src="images/gradle.jpg" style="width:80%" class="bullet">
      </section>
      <section>
        <h2>Quality Assurance  </h2>
        <h3>Code Metrics - cloc</h3><img src="images/cloc3.png" style="width:93%">
      </section>
      <section>
        <h2>Conclusions </h2>
        <p></p>
        <p></p>
        <ol>
          <li>An Android app can function as a server, if threads are handled properly.</li>
          <li>This is about a modular project.</li>
          <li>Low maintenance cost in comparison with remote server machines. </li>
        </ol>
      </section>
      <section>
        <h2>Future Extensions</h2>
        <p></p>
        <p></p>
        <p></p>
        <ol>
          <li>Automated Testing</li>
          <li>User Interface</li>
          <li>Preparser</li>
          <li>Thread/Exception Handling</li>
        </ol>
      </section>
      <section>
        <h2 class="bullet">Thanks!</h2>
        <p class="bullet">Questions?</p>
      </section>
    </article>
    <script src="build/build.js"></script>
  </body>
</html>
